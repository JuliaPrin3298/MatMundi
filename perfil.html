<?php
session_start();
include("class/Conectar.php");

if (!isset($_SESSION["id_usuario"])) {
    header("Location: index.php");
    exit();
}

// Pega o nome do usu치rio pelo id da sess칚o
$id = $_SESSION["id_usuario"];
$sql = $conexao->prepare("SELECT nome_usuario FROM usuario WHERE id_usuario = ?");
$sql->bind_param("i", $id);
$sql->execute();
$result = $sql->get_result();
$usuario = $result->fetch_assoc();
$nomeUsuario = $usuario['nome_usuario'];
?>
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MatMundi</title>
    <link rel="icon" href="../images/logo.png" type="image/png" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Chewy&family=Cherry+Bomb+One&family=Press+Start+2P&family=Coming+Soon&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/perfil.css">
    <script src="js/script.js"></script>

    <style>
        .titulo-site {
            text-align: center;
            font-size: 3rem;
            margin: 20px auto;
            color: #4B0082;
            /* Roxo escuro */
        }
    </style>
</head>

<body>

    <!--Navbar-->
   <nav class="navbar navbar-expand-lg navbar-light" style="background: linear-gradient(to right, #8ADEFF, #75EDE6);">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Alterna navega칞칚o">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav justify-content-end">
                <li class="nav-item active">
                    <a class="nav-link" href="index.php#home">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="index.php#atividades">Atividades</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="index.php#jogos">Jogos</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="index.php#loca">Login / Cadastrar</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="perfil.html">Perfil</a>
                </li>
            </ul>
        </div>
    </nav>

    <main >

        <div class="perfil"></div>

        <div class="avatar-container" style="margin-top: 150px;">
            <img id="fotoMascote" src="images/perfil/mascote-Photoroom.png" alt="Mascote Atual"
                style="width: 100px; height: 100px; border-radius: 50%; cursor: pointer;">

            <div id="opcoesAvatares" style="display: none; margin-top: 10px;">
                <img src="images/perfil/mascote-Photoroom.png" alt="Mascote 2" class="avatar-opcao"
                    style="width: 60px; cursor: pointer; border-radius: 50%;">
                <img src="images/perfil/mascotinha-removebg-preview.png" alt="Mascote 3" class="avatar-opcao"
                    style="width: 60px; cursor: pointer; border-radius: 50%;">
                <img src="images/perfil/mascoteverde.png" alt="Mascote 3" class="avatar-opcao"
                    style="width: 60px; cursor: pointer; border-radius: 50%;">
            </div>

            <br>

            <div class="nome-container">
                <input type="text" id="username" placeholder="Seu nome" />
            </div>

            <p id="saudacao"></p>

            <div class="botoes">
                <button class="btn editar">Editar perfil</button>
                <button class="btn sair" onclick="window.location.href='index.php#loca'">Sair</button>
            </div>
        </div>

        <section class="ranking">
            <h2>Ranking</h2>
            <ul>

                <li><span class="trofeu 游볞">游볞</span><img src="images/perfil/mascote-Photoroom.png" class="icon">
                    Usu치rio - <strong>1.000XP</strong></li>
                <li><span class="trofeu 游볟">游볟</span><img src="images/perfil/mascote-Photoroom.png" class="icon">
                    Usu치rio - <strong>990XP</strong></li>
                <li><span class="trofeu 游볠">游볠</span><img src="images/perfil/mascote-Photoroom.png" class="icon">
                    Usu치rio - <strong>950XP</strong></li>
                <li>4춿 <img src="images/perfil/mascote-Photoroom.png" class="icon"> Usu치rio - <strong>940XP</strong>
                </li>
                <li>5춿 <img src="images/perfil/mascote-Photoroom.png" class="icon"> Usu치rio - <strong>900XP</strong>
                </li>
                <li>6춿 <img src="images/perfil/mascote-Photoroom.png" class="icon"> Usu치rio - <strong>800XP</strong>
                </li>
                <li>7춿 <img src="images/perfil/mascote-Photoroom.png" class="icon"> Usu치rio - <strong>700XP</strong>
                </li>
                <li>8춿 <img src="images/perfil/mascote-Photoroom.png" class="icon"> Usu치rio - <strong>600XP</strong>
                </li>
                <li>9춿 <img src="images/perfil/mascote-Photoroom.png" class="icon"> Usu치rio - <strong>500XP</strong>
                </li>
                <li>10춿 <img src="images/perfil/mascote-Photoroom.png" class="icon"> Usu치rio - <strong>300XP</strong>
                </li>
            </ul>
        </section>

        <div class="onda-container">
            <svg class="onda-inferior" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 640"
                preserveAspectRatio="none">
                <path fill="#FFFBB5" fill-opacity="1"
                    d="M0,256L60,234.7C120,213,240,171,360,166.7C480,163,600,213,720,240C840,267,960,277,1080,256C1200,235,1320,181,1380,154.7L1440,128L1440,640L1380,640C1320,640,1200,640,1080,640C960,640,840,640,720,640C600,640,480,640,360,640C240,640,120,640,60,640L0,640Z">
                </path>
            </svg>
        </div>





        
<footer>


    <div class="rodape text-center py-3">
        <div class="row align-items-center">
            <div class="col-12 col-md-4 mb-3 mb-md-0">
                <img src="../images/logo.png" class="img-fluid logo" alt="Logo" style="max-height: 80px;">
            </div>
            <div class="col-12 col-md-8">
                <p class="mb-0" style="font-family: 'Coming Soon', cursive; font-size: 15px;">춸 2025 Copyright</p>
            </div>
        </div>
    </div>
</footer>
    </main>

    <script>
        const fotoMascote = document.getElementById('fotoMascote');
        const opcoesAvatares = document.getElementById('opcoesAvatares');
        const avatares = document.querySelectorAll('.avatar-opcao');

        const avatarSalvo = localStorage.getItem('avatarSelecionado');
        if (avatarSalvo) {
            fotoMascote.src = avatarSalvo;
        }

        fotoMascote.addEventListener('click', () => {
            opcoesAvatares.style.display = opcoesAvatares.style.display === 'none' ? 'block' : 'none';
        });

        avatares.forEach((avatar) => {
            avatar.addEventListener('click', function () {
                fotoMascote.src = this.src;
                localStorage.setItem('avatarSelecionado', this.src);
                opcoesAvatares.style.display = 'none';
            });
        });
    </script>


    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {
            $('.navbar-nav>li>a').on('click', function () {
                $('.navbar-collapse').collapse('hide');
            });
        });
    </script>

</body>


</html>